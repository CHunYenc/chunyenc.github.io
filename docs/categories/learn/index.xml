<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Learn on CHUN-YEN's BLOG</title><link>https://chunyenc.github.io/categories/learn/</link><description>Recent content in Learn on CHUN-YEN's BLOG</description><generator>Hugo -- gohugo.io</generator><language>zh-tw</language><lastBuildDate>Sun, 10 Apr 2022 19:03:00 +0800</lastBuildDate><atom:link href="https://chunyenc.github.io/categories/learn/index.xml" rel="self" type="application/rss+xml"/><item><title>JenKins 架設紀錄 01 - 使用 Docker 架設 Jenkins 並第一次使用</title><link>https://chunyenc.github.io/p/jenkins-01/</link><pubDate>Sun, 10 Apr 2022 19:03:00 +0800</pubDate><guid>https://chunyenc.github.io/p/jenkins-01/</guid><description>&lt;img src="https://chunyenc.github.io/jenkins.png" alt="Featured image of post JenKins 架設紀錄 01 - 使用 Docker 架設 Jenkins 並第一次使用" />&lt;h1 id="環境">環境&lt;/h1>
&lt;p>趁這次假日架設了 Jenkins，但是目前為止 M1 處理器皆不支援。&lt;/p>
&lt;p>所以用在學生時期使用的 Oracle Cloud 建立一台虛擬機，以下都可以適用在任何雲端平台來操作。&lt;/p>
&lt;h2 id="ubuntu-版本">Ubuntu 版本&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># lsb_release -a
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">No LSB modules are available.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Distributor ID: Ubuntu
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Description: Ubuntu 18.04.6 LTS
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Release: 18.04
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Codename: bionic
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="docker-版本">Docker 版本&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># docker -v
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Docker version 20.10.14, build a224086
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="操作">操作&lt;/h1>
&lt;p>&lt;a class="link" href="https://github.com/jenkinsci/docker/blob/master/README.md" target="_blank" rel="noopener"
>README 官方閱讀手冊&lt;/a>&lt;/p>
&lt;p>以下皆是參考上面的連結，很重要&lt;/p>
&lt;h2 id="開始">開始&lt;/h2>
&lt;p>切記這邊不能使用 &lt;code>-d&lt;/code> 指令，否則會影響到第一次啟動密碼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run --name jenkins -p 8080:8080 -p 50000:50000 --restart always jenkins/jenkins:lts-jdk11
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>執行後，會顯示下面的資訊，密碼就是第一次啟動 Jenkins 在用的。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">... logging ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">*************************************************************
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">*************************************************************
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">*************************************************************
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Jenkins initial setup is required. An admin user has been created and a password generated.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Please use the following password to proceed to installation:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">61e8c8cb00c0417bb4c4719ba8559060
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">This may also be found at: /var/jenkins_home/secrets/initialAdminPassword
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">*************************************************************
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">*************************************************************
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">*************************************************************
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>先複製 &lt;code>61e8c8cb00c0417bb4c4719ba8559060&lt;/code>&lt;/p>
&lt;p>如果不小心加上 &lt;code>-d&lt;/code> 後，該怎麼辦 ?&lt;/p>
&lt;p>可以參考 &lt;a class="link" href="#%e5%82%99%e8%a8%bb" >備註&lt;/a>&lt;/p>
&lt;h2 id="前往網頁">前往網頁&lt;/h2>
&lt;p>&lt;img src="https://chunyenc.github.io/p/jenkins-01/00-wait.png"
width="3064"
height="1934"
srcset="https://chunyenc.github.io/p/jenkins-01/00-wait_hu6ddb7192c6d259559aad120bbb04f985_467817_480x0_resize_box_3.png 480w, https://chunyenc.github.io/p/jenkins-01/00-wait_hu6ddb7192c6d259559aad120bbb04f985_467817_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="等待 Jenkins 上工"
class="gallery-image"
data-flex-grow="158"
data-flex-basis="380px"
>&lt;/p>
&lt;p>&lt;img src="https://chunyenc.github.io/p/jenkins-01/01-Unlock.png"
width="3064"
height="1934"
srcset="https://chunyenc.github.io/p/jenkins-01/01-Unlock_hu6ddb7192c6d259559aad120bbb04f985_678683_480x0_resize_box_3.png 480w, https://chunyenc.github.io/p/jenkins-01/01-Unlock_hu6ddb7192c6d259559aad120bbb04f985_678683_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="進入 JenKins 的第一個畫面"
class="gallery-image"
data-flex-grow="158"
data-flex-basis="380px"
>&lt;/p>
&lt;p>就把 &lt;code>61e8c8cb00c0417bb4c4719ba8559060&lt;/code> 貼進去裡面就完成啟用囉 !&lt;/p>
&lt;h2 id="不安裝任何插件">不安裝任何插件&lt;/h2>
&lt;p>直接點擊右上角 x, 到時候我們再一項一項安裝.&lt;/p>
&lt;p>&lt;img src="https://chunyenc.github.io/p/jenkins-01/02-plugin.png"
width="2880"
height="1800"
srcset="https://chunyenc.github.io/p/jenkins-01/02-plugin_hueda57b2e559b3fbd1d2c509678b60380_450489_480x0_resize_box_3.png 480w, https://chunyenc.github.io/p/jenkins-01/02-plugin_hueda57b2e559b3fbd1d2c509678b60380_450489_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="點擊右上角 x 進行下一步"
class="gallery-image"
data-flex-grow="160"
data-flex-basis="384px"
>&lt;/p>
&lt;h2 id="進入首頁">進入首頁&lt;/h2>
&lt;p>&lt;img src="https://chunyenc.github.io/p/jenkins-01/03-home.png"
width="2880"
height="1800"
srcset="https://chunyenc.github.io/p/jenkins-01/03-home_hueda57b2e559b3fbd1d2c509678b60380_284587_480x0_resize_box_3.png 480w, https://chunyenc.github.io/p/jenkins-01/03-home_hueda57b2e559b3fbd1d2c509678b60380_284587_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Jenkins 首頁"
class="gallery-image"
data-flex-grow="160"
data-flex-basis="384px"
>&lt;/p>
&lt;h2 id="更改-admin-密碼">更改 admin 密碼&lt;/h2>
&lt;p>&lt;img src="https://chunyenc.github.io/p/jenkins-01/04-change_password.png"
width="2880"
height="1800"
srcset="https://chunyenc.github.io/p/jenkins-01/04-change_password_hueda57b2e559b3fbd1d2c509678b60380_228147_480x0_resize_box_3.png 480w, https://chunyenc.github.io/p/jenkins-01/04-change_password_hueda57b2e559b3fbd1d2c509678b60380_228147_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="更改 admin 登入密碼"
class="gallery-image"
data-flex-grow="160"
data-flex-basis="384px"
>&lt;/p>
&lt;h2 id="建立一個-work">建立一個 work&lt;/h2>
&lt;p>&lt;img src="https://chunyenc.github.io/p/jenkins-01/05-create-work.png"
width="2880"
height="1592"
srcset="https://chunyenc.github.io/p/jenkins-01/05-create-work_huab4c80c9a439001a2ab825a8f23bd07d_981908_480x0_resize_box_3.png 480w, https://chunyenc.github.io/p/jenkins-01/05-create-work_huab4c80c9a439001a2ab825a8f23bd07d_981908_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="點擊左上角，新增作業"
class="gallery-image"
data-flex-grow="180"
data-flex-basis="434px"
>&lt;/p>
&lt;h2 id="hello-jenkins-">Hello Jenkins !!!&lt;/h2>
&lt;p>&lt;img src="https://chunyenc.github.io/p/jenkins-01/06-create-hello-jenkins.png"
width="2880"
height="1592"
srcset="https://chunyenc.github.io/p/jenkins-01/06-create-hello-jenkins_huab4c80c9a439001a2ab825a8f23bd07d_1324541_480x0_resize_box_3.png 480w, https://chunyenc.github.io/p/jenkins-01/06-create-hello-jenkins_huab4c80c9a439001a2ab825a8f23bd07d_1324541_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="創建一個作業"
class="gallery-image"
data-flex-grow="180"
data-flex-basis="434px"
>&lt;/p>
&lt;p>這邊可以直接按「OK」。&lt;/p>
&lt;h2 id="加入一個-echo-shell">加入一個 echo shell&lt;/h2>
&lt;p>&lt;img src="https://chunyenc.github.io/p/jenkins-01/07-create-shell.jpeg"
width="411"
height="515"
srcset="https://chunyenc.github.io/p/jenkins-01/07-create-shell_hu7202b1ebd00bf2ebe6834d94580ea7ea_42475_480x0_resize_q75_box.jpeg 480w, https://chunyenc.github.io/p/jenkins-01/07-create-shell_hu7202b1ebd00bf2ebe6834d94580ea7ea_42475_1024x0_resize_q75_box.jpeg 1024w"
loading="lazy"
alt="選取 執行 Shell"
class="gallery-image"
data-flex-grow="79"
data-flex-basis="191px"
>&lt;/p>
&lt;p>畢竟本篇是要執行一個 echo 「Hello World」。&lt;/p>
&lt;p>所以我們還是先照做，此篇只是第一篇的 jenkins XD&lt;/p>
&lt;p>&lt;img src="https://chunyenc.github.io/p/jenkins-01/08-echo.jpg"
width="944"
height="766"
srcset="https://chunyenc.github.io/p/jenkins-01/08-echo_hub0b3230c5ed5ad0277ac23c46c78c9d1_47934_480x0_resize_q75_box.jpg 480w, https://chunyenc.github.io/p/jenkins-01/08-echo_hub0b3230c5ed5ad0277ac23c46c78c9d1_47934_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="打上 echo Hello Jenkins"
class="gallery-image"
data-flex-grow="123"
data-flex-basis="295px"
>&lt;/p>
&lt;p>點擊儲存。&lt;/p>
&lt;h2 id="執行我們建立的作業-hello-jenkins-">執行我們建立的作業 Hello Jenkins !!&lt;/h2>
&lt;p>&lt;img src="https://chunyenc.github.io/p/jenkins-01/09-dashboard.jpg"
width="3359"
height="1797"
srcset="https://chunyenc.github.io/p/jenkins-01/09-dashboard_hu2263771e0b419714972d11916a6db778_332122_480x0_resize_q75_box.jpg 480w, https://chunyenc.github.io/p/jenkins-01/09-dashboard_hu2263771e0b419714972d11916a6db778_332122_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="回到 Dashboard"
class="gallery-image"
data-flex-grow="186"
data-flex-basis="448px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">點擊我們 Hello Jenkins 作業做右邊的執行鈕
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">重整頁面 (F5)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">接者會發現「上次執行成功時間」、「上次建置花費時間」已經有數值，不會像圖片上顯示「無」
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>我們現在去看看我們執行的結果&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">點擊「Hello Jenkins」名稱，進入頁面後。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">目光移到「左下角」的「建置歷程」
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://chunyenc.github.io/p/jenkins-01/11-task-history.png"
width="3360"
height="2100"
srcset="https://chunyenc.github.io/p/jenkins-01/11-task-history_hu8c25be756d203f1365c97e7be3120be7_1816985_480x0_resize_box_3.png 480w, https://chunyenc.github.io/p/jenkins-01/11-task-history_hu8c25be756d203f1365c97e7be3120be7_1816985_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="建置歷程"
class="gallery-image"
data-flex-grow="160"
data-flex-basis="384px"
>&lt;/p>
&lt;p>這邊我點擊 #1 來看看我們，剛剛的 Hello Jenkins 有沒有執行出來 !!&lt;/p>
&lt;p>&lt;img src="https://chunyenc.github.io/p/jenkins-01/10-success-task.png"
width="3360"
height="2100"
srcset="https://chunyenc.github.io/p/jenkins-01/10-success-task_hu8c25be756d203f1365c97e7be3120be7_1633336_480x0_resize_box_3.png 480w, https://chunyenc.github.io/p/jenkins-01/10-success-task_hu8c25be756d203f1365c97e7be3120be7_1633336_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="建置的結果"
class="gallery-image"
data-flex-grow="160"
data-flex-basis="384px"
>&lt;/p>
&lt;p>這邊只是大致上介紹一下，Jenkins 可以協助你啟動任何的任務，不只是 Shell.&lt;/p>
&lt;p>未來我還會再增加一些 Jenkins 的範例，希望這篇有幫助到你 !&lt;/p>
&lt;h1 id="結束今天我們就將-jenkins-架設完成囉">結束，今天我們就將 Jenkins 架設完成囉&lt;/h1>
&lt;h1 id="備註---沒有密碼時的步驟">備註 - 沒有密碼時的步驟&lt;/h1>
&lt;h2 id="查看-docker-目前執行的-container">查看 docker 目前執行的 container&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># docker ps
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">d9146583cb09 jenkins/jenkins:lts-jdk11 &amp;#34;/sbin/tini -- /usr/…&amp;#34; 4 minutes ago Up 34 seconds 0.0.0.0:8080-&amp;gt;8080/tcp, :::8080-&amp;gt;8080/tcp, 0.0.0.0:50000-&amp;gt;50000/tcp, :::50000-&amp;gt;50000/tcp jenkins
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="進入-container">進入 container&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># docker exec -it d9146583cb09 /bin/bash
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jenkins@d9146583cb09:/$ cat /var/jenkins_home/secrets/initialAdminPassword
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">61e8c8cb00c0417bb4c4719ba8559060
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>接下來就可以看到密碼囉， &lt;code>61e8c8cb00c0417bb4c4719ba8559060&lt;/code>&lt;/p></description></item></channel></rss>